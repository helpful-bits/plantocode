all:
  children:
    hetzner:
      hosts:
        hetzner-primary:
          ansible_host: 65.108.202.251
          ansible_user: root
          ansible_ssh_private_key_file: ~/.ssh/id_ed25519_hetzner
          ansible_ssh_common_args: '-o StrictHostKeyChecking=accept-new'
          
          # Server identification
          server_id: "Server Auction #2759303"
          server_ipv6: "2a01:4f9:1a:9ec7::2"
          server_location: "EU"
          
          # Server specs
          server_ram: 64GB
          server_os: Ubuntu 24.04 LTS
          
          # Installed services
          postgresql_version: 17
          postgresql_port: 5432
          firewall_ports: [22, 80, 443]  # Note: 5432 removed for security
          
    interserver:
      hosts:
        interserver-us:
          ansible_host: YOUR_INTERSERVER_IP
          ansible_user: root
          ansible_ssh_private_key_file: ~/.ssh/id_ed25519_interserver
          ansible_ssh_common_args: '-o StrictHostKeyChecking=accept-new'
          
          # Server identification
          server_id: "InterServer US Instance"
          server_ipv6: "YOUR_IPV6_ADDRESS"  # If available
          server_location: "US"
          
          # Server specs
          server_ram: YOUR_RAM_AMOUNT
          server_os: Ubuntu 24.04 LTS
          
          # Installed services (will be configured during setup)
          postgresql_version: 17
          postgresql_port: 5432
          firewall_ports: [22, 80, 443]
          
# SSH Configuration
# -----------------
# To add these servers to your ~/.ssh/config for easier manual access:
#
# Host hetzner
#     HostName 65.108.202.251
#     User root
#     IdentityFile ~/.ssh/id_ed25519_hetzner
#     StrictHostKeyChecking accept-new
#
# Host interserver
#     HostName YOUR_INTERSERVER_IP
#     User root
#     IdentityFile ~/.ssh/id_ed25519_interserver
#     StrictHostKeyChecking accept-new
#
# Then connect with: ssh hetzner or ssh interserver
#
# Emergency Access
# ----------------
# If locked out via SSH:
# 1. Use Hetzner Robot panel → Server → KVM Console
# 2. Login with root password from server's /root/.postgresql_passwords
# 3. Run: /root/disable_firewall.sh